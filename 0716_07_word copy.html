<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>霹靂英雄武器介紹</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #0d0d1a 0%, #1a1a2e 100%);
            color: #e0e0ff;
            font-family: 'Noto Sans TC', sans-serif;
            overflow-x: hidden;
        }

        .weapon-card {
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: #252540;
            color: #e0e0ff;
            animation: fadeIn 0.6s ease-in-out;
        }

        .weapon-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 255, 255, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.5);
        }

        .weapon-image {
            width: 100%;
            height: 250px;
            object-fit: contain;
            background: #1a1a2e;
            padding: 20px;
            transition: transform 0.4s ease;
        }

        .weapon-image:hover {
            transform: scale(1.15);
        }

        .weapon-card-header {
            font-weight: 700;
            font-size: 1.4rem;
            background: linear-gradient(45deg, #2a2a5a, #3f3f8a);
            padding: 15px;
            text-align: center;
            letter-spacing: 1.5px;
            border-bottom: 2px solid #4a4a9a;
        }

        .weapon-card-body {
            padding: 20px;
            font-size: 1rem;
            line-height: 1.6;
        }

        .weapon-card-body p {
            margin-bottom: 12px;
        }

        .weapon-card-footer {
            background: #2a2a5a;
            padding: 12px;
            font-size: 0.9rem;
            color: #a0a0d0;
            text-align: right;
            font-family: 'Courier New', Courier, monospace;
        }

        .carousel-control-prev,
        .carousel-control-next {
            width: 6%;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .carousel-control-prev:hover,
        .carousel-control-next:hover {
            background: rgba(0, 255, 255, 0.4);
            transform: scale(1.1);
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-image: none;
            font-size: 2rem;
            color: #e0e0ff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .carousel-control-prev-icon::after {
            content: '◄';
        }

        .carousel-control-next-icon::after {
            content: '►';
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .carousel-item {
            transition: transform 0.6s ease-in-out;
        }

        @media (max-width: 768px) {
            .weapon-image {
                height: 200px;
                padding: 15px;
            }

            .carousel-control-prev,
            .carousel-control-next {
                width: 12%;
            }
        }

        @media (max-width: 576px) {
            .weapon-card {
                margin-bottom: 20px;
            }

            .carousel-inner .col-md-4 {
                flex: 0 0 100%;
                max-width: 100%;
            }

            .weapon-card-header {
                font-size: 1.2rem;
            }

            .weapon-card-body {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container my-5">
        <h2 class="text-center mb-5" style="color: #e0e0ff; font-weight: 700; text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);">霹靂英雄武器介紹</h2>
        <div id="weaponCarousel" class="carousel slide" data-bs-ride="false" data-bs-interval="false">
            <div class="carousel-inner" id="weapon-list"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#weaponCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">上一頁</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#weaponCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">下一頁</span>
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./data.js"></script>
    <script>
        $(document).ready(function () {
            // Generate UUIDs for weapons
            const dataWithIds = data.map((weapon, index) => ({
                ...weapon,
                id: `weapon-${index + 1}-${Math.random().toString(36).substr(2, 9)}`
            }));

            // Determine cards per page based on screen size
            const cardsPerPage = window.innerWidth <= 576 ? 1 : 3;
            const pages = Math.ceil(dataWithIds.length / cardsPerPage);

            // Generate carousel items
            for (let i = 0; i < pages; i++) {
                const pageItems = dataWithIds.slice(i * cardsPerPage, (i + 1) * cardsPerPage);
                const isActive = i === 0 ? 'active' : '';
                let pageHtml = `<div class="carousel-item ${isActive}"><div class="row">`;

                pageItems.forEach(weapon => {
                    pageHtml += `
                        <div class="col-md-4 mb-4">
                            <div class="card weapon-card">
                                <img src="${weapon.image}" class="card-img-top weapon-image" alt="${weapon.weapon_name}">
                                <div class="card-header weapon-card-header">
                                    ${weapon.weapon_name}
                                </div>
                                <div class="card-body weapon-card-body">
                                    <p><strong>持有者：</strong> ${weapon.holder}</p>
                                    <p><strong>功能：</strong> ${weapon.function}</p>
                                </div>
                                <div class="card-footer weapon-card-footer">
                                    <span class="weapon-id">ID: ${weapon.id}</span>
                                </div>
                            </div>
                        </div>
                    `;
                });

                pageHtml += `</div></div>`;
                $('#weapon-list').append(pageHtml);
            }

            // Handle window resize to adjust cards per page
            $(window).resize(function () {
                const newCardsPerPage = window.innerWidth <= 576 ? 1 : 3;
                if (newCardsPerPage !== cardsPerPage) {
                    location.reload(); // Reload to re-render carousel
                }
            });
        });
    </script>
</body>
</html>